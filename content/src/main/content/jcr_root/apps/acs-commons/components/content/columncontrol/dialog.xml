<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    title="Multi-Column Control"
    width="600"
    xtype="dialog">
    <items
        jcr:primaryType="cq:Widget"
        xtype="tabpanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <tab1
                jcr:primaryType="cq:Panel"
                title="Columns">
                <items jcr:primaryType="cq:WidgetCollection">
                    <map
                        jcr:primaryType="cq:Widget"
                        hideLabel="false"
                        name="./columns"
                        orderable="{Boolean}false"
                        title="Add Column"
                        xtype="multifield">
                        <fieldConfig
                            jcr:primaryType="cq:Widget"
                            bodyStyle="border-bottom:solid 1px #ccc"
                            border="true"
                            hideLabel="false"
                            layout="form"
                            padding="10px"
                                    dName="width"
                                    fieldDescription="Column width as a percent."
                                    fieldLabel="Column width (percent)"
                                    labelStyle="display:inline"
                                    maxValue="100"
                                    minValue="1"
                                    required="true"
                                    xtype="numberfield"
                        
                        />
                    </map>
                </items>
            </tab1>
        </items>
    </items>
    <listeners
        jcr:primaryType="nt:unstructured"
        beforesubmit="function(dialog){&#xa;&#x9;var widthArray = dialog.findByType(&quot;numberfield&quot;);&#xa;&#x9;var maxwidth=100;&#xa;&#x9;var width=0;&#xa;&#x9;for(i=0;i&lt;widthArray.length;i++){&#xa;&#x9;&#x9;width+=widthArray[i].getValue();&#xa;&#x9;}&#xa;&#x9;if(width>maxwidth){&#xa;&#x9;CQ.Ext.Msg.show({title:'Validation Error',msg:'Total width of all columns should not be more than 100 percent!',buttons:CQ.Ext.MessageBox.OK,icon:CQ.Ext.MessageBox.ERROR});&#xa;&#x9;return false;&#xa;&#x9;}&#xa;}"/>
</jcr:root>

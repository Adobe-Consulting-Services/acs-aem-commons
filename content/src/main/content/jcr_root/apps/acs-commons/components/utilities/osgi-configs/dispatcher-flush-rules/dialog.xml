<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ #%L
  ~ ACS AEM Commons Bundle
  ~ %%
  ~ Copyright (C) 2014 Adobe
  ~ %%
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~ #L%
  -->
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
        jcr:primaryType="cq:Dialog"
        activeTab="0"
        title="Dispatcher Flush Rule Configuration"
        xtype="tabpanel">
    <items jcr:primaryType="cq:WidgetCollection">
        <tab1
            jcr:primaryType="cq:Widget"
            title="Dispatcher Flush Rule Configuration"
            xtype="panel">
            <items jcr:primaryType="cq:WidgetCollection">

                <replication-action-type
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Replication action type"
                        fieldDescription=""
                        defaultValue="INHERIT"
                        allowBlank="{Boolean}false"
                        name="./replication-action-type"
                        type="select"
                        xtype="selection">
                    <options jcr:primaryType="cq:WidgetCollection">
                        <inherit
                                jcr:primaryType="nt:unstructured"
                                text="Inherit (from originating replication event)"
                                value="INHERIT"/>
                        <activate
                                jcr:primaryType="nt:unstructured"
                                text="Invalidate Cache (ACTIVATE)"
                                value="ACTIVATE"/>
                        <delete
                                jcr:primaryType="nt:unstructured"
                                text="Delete Cache (DELETE)"
                                value="DELETE"/>
                    </options>
                </replication-action-type>

                <hierarchical
                    jcr:primaryType="cq:Widget"
                    fieldDescription="Click the '+' to add a new flush rule.&lt;br/&gt;Expected format: pattern-of-trigger-content=abs-path-to-flush"
                    fieldLabel="Hierarchical Rules"
                    name="./rules.hierarchical"
                    xtype="multifield">
                    <fieldConfig
                        jcr:primaryType="cq:Widget"
                        xtype="textfield"/>
                </hierarchical>

                <resource-only
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Click the '+' to add a new flush rule.&lt;br/&gt;Expected format: pattern-of-trigger-content=abs-path-to-flush"
                        fieldLabel="Resource Only Rules"
                        name="./rules.resource-only"
                        xtype="multifield">
                    <fieldConfig
                            jcr:primaryType="cq:Widget"
                            xtype="textfield"/>
                </resource-only>
            </items>
        </tab1>
        <cqinclude
                jcr:primaryType="cq:Widget"
                path="/apps/acs-commons/components/utilities/osgi-configs/tab_notes.infinity.json"
                xtype="cqinclude"/>
    </items>
</jcr:root>

<?xml version="1.0" encoding="UTF-8"?>
<workspaceFilter version="1.0">

    <filter root="/conf/acs-commons/reports" mode="update">
        <include pattern="/conf/acs-commons/reports/jcr:content" />
    </filter>

    <filter root="/conf/acs-commons/reports" mode="merge">
        <include pattern="/conf/acs-commons/reports/(.*)?"/>
        <include pattern="/conf/acs-commons/reports/jcr:content"/>
    </filter>

    <filter root="/etc/acs-commons">  
        <include pattern="/etc/acs-commons/jcr:content"/>

        <include pattern="/etc/acs-commons/twitter-rate-limit-checker"/>
        <include pattern="/etc/acs-commons/twitter-rate-limit-checker/jcr:content"/>

        <include pattern="/etc/acs-commons/bulk-workflow-manager"/>
        <include pattern="/etc/acs-commons/bulk-workflow-manager/jcr:content"/>

        <include pattern="/etc/acs-commons/dispatcher-flush"/>
        <include pattern="/etc/acs-commons/dispatcher-flush/jcr:content"/>

        <include pattern="/etc/acs-commons/lists"/>
        <include pattern="/etc/acs-commons/lists/jcr:content"/>

        <!-- // TODO Understand why these were set to Merge -->
        <include pattern="/etc/acs-commons/lists/dynamic-deck-query-list"/>
        <include pattern="/etc/acs-commons/lists/dynamic-deck-query-list/jcr:content"/>

        <include pattern="/etc/acs-commons/lists/sharethis-services"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content/list/default_\d+"/>

        <include pattern="/etc/acs-commons/lists/font-awesome-icons"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content/list/item_\d+"/>
        
        <include pattern="/etc/acs-commons/lists/report-parameter-components"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content/list/default_\d+"/>

        <include pattern="/etc/acs-commons/notifications"/>
        <include pattern="/etc/acs-commons/notifications/jcr:content"/>
        
        <include pattern="/etc/acs-commons/packagers"/>
        <include pattern="/etc/acs-commons/packagers/jcr:content"/>
        
        <include pattern="/etc/acs-commons/redirect-maps"/>
        <include pattern="/etc/acs-commons/redirect-maps/jcr:content"/>

        <!-- // TODO Understand why these were set to Merge on just reports(.*) -->
        <include pattern="/etc/acs-commons/reports"/>      
        <include pattern="/etc/acs-commons/reports/jcr:content"/>      

        <include pattern="/etc/acs-commons/exporters"/>
        <include pattern="/etc/acs-commons/exporters/jcr:content"/>
        <include pattern="/etc/acs-commons/exporters/tag-to-csv-exporter(/.*)?"/>
        
        <include pattern="/etc/acs-commons/qr-code"/>
        <include pattern="/etc/acs-commons/qr-code/jcr:content"/>
        <include pattern="/etc/acs-commons/qr-code/jcr:content/(.*)?"/>
        <!-- the user specific configuration should not be touched -->
        <exclude pattern="/etc/acs-commons/qr-code/jcr:content/config(/.*)?"/>
    
        <include pattern="/etc/acs-commons/instant-package"/>
        <include pattern="/etc/acs-commons/instant-package/jcr:content?"/>
        <include pattern="/etc/acs-commons/instant-package/jcr:content/(.*)?"/>
        <!-- the user specific configuration should not be touched -->
        <exclude pattern="/etc/acs-commons/instant-package/jcr:content/config(/.*)?"/>

        <!-- Remove legacy /etc pages from prior version installs -->
        <include pattern="/etc/acs-commons/audit-log-search"/>
        <include pattern="/etc/acs-commons/jcr-compare"/>
        <include pattern="/etc/acs-commons/manage-controlled-processes"/>
        <include pattern="/etc/acs-commons/oak-index-manager"/>
        <include pattern="/etc/acs-commons/page-compare"/>
        <include pattern="/etc/acs-commons/reports"/>
        <include pattern="/etc/acs-commons/version-compare"/>
        <include pattern="/etc/acs-commons/version-replicator"/>
        <include pattern="/etc/acs-commons/workflow-remover"/>
    </filter>

    <filter root="/etc/acs-commons/lists/dynamic-deck-query-list" mode="merge"/>
    <filter root="/etc/acs-commons/reports" mode="merge"/>

    <!--
    <filter root="/etc/acs-commons">
        <include pattern="/etc/acs-commons/twitter-rate-limit-checker(.*)?"/> // TODO What is this for?


        <include pattern="/etc/acs-commons/jcr:content"/>
        <include pattern="/etc/acs-commons/bulk-workflow-manager"/>
        <include pattern="/etc/acs-commons/bulk-workflow-manager/jcr:content"/>
        <include pattern="/etc/acs-commons/bulk-workflow-manager/rep:policy(/.*)?"/>
        <include pattern="/etc/acs-commons/dispatcher-flush"/>
        <include pattern="/etc/acs-commons/dispatcher-flush/jcr:content"/>
        <include pattern="/etc/acs-commons/lists"/>
        <include pattern="/etc/acs-commons/lists/jcr:content"/>

        <include pattern="/etc/acs-commons/lists/dynamic-deck-query-list" mode="merge"/>
        <include pattern="/etc/acs-commons/lists/dynamic-deck-query-list/jcr:content" mode="merge"/>

        <include pattern="/etc/acs-commons/lists/sharethis-services"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/sharethis-services/jcr:content/list/default_\d+"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/font-awesome-icons/jcr:content/list/item_\d+"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content/list"/>
        <include pattern="/etc/acs-commons/lists/report-parameter-components/jcr:content/list/default_\d+"/>
        <include pattern="/etc/acs-commons/notifications"/>
        <include pattern="/etc/acs-commons/notifications/jcr:content"/>
        <include pattern="/etc/acs-commons/notifications/rep:policy(/.*)?"/>
        <include pattern="/etc/acs-commons/packagers"/>
        <include pattern="/etc/acs-commons/packagers/jcr:content"/>
        <include pattern="/etc/acs-commons/redirect-maps"/>
        <include pattern="/etc/acs-commons/redirect-maps/jcr:content"/>
        <include pattern="/etc/acs-commons/redirect-maps/rep:policy(/.*)?" />
        <include pattern="/etc/acs-commons/reports(.*)?" mode="merge"/>      
        <include pattern="/etc/acs-commons/exporters"/>
        <include pattern="/etc/acs-commons/exporters/jcr:content"/>
        <include pattern="/etc/acs-commons/exporters/tag-to-csv-exporter(/.*)?"/>
         <include pattern="/etc/acs-commons/qr-code/jcr:content(/.*)?"/>
        <!- - the user specific configuration should not be touched - ->
        <exclude pattern="/etc/acs-commons/qr-code/jcr:content/config(/.*)?"/>
        <include pattern="/etc/acs-commons/instant-package/jcr:content(/.*)?"/>
        <!- - the user specific configuration should not be touched - ->
        <exclude pattern="/etc/acs-commons/instant-package/jcr:content/config(/.*)?"/>

        <!- - Remove legacy /etc pages from prior version installs - ->
        <include pattern="/etc/acs-commons/audit-log-search"/>
        <include pattern="/etc/acs-commons/jcr-compare"/>
        <include pattern="/etc/acs-commons/manage-controlled-processes"/>
        <include pattern="/etc/acs-commons/oak-index-manager"/>
        <include pattern="/etc/acs-commons/page-compare"/>
        <include pattern="/etc/acs-commons/reports"/>
        <include pattern="/etc/acs-commons/version-compare"/>
        <include pattern="/etc/acs-commons/version-replicator"/>
        <include pattern="/etc/acs-commons/workflow-remover"/>
    </filter>
    -->

    <!-- only create the initial config once -->
    <filter root="/etc/acs-commons/instant-package" mode="merge">
        <include pattern="/etc/acs-commons/instant-package/jcr:content/config"/>
    </filter>
    <filter root="/etc/acs-commons/qr-code" mode="merge">   
        <include pattern="/etc/acs-commons/qr-code/jcr:content/config" />   
    </filter> 

    <!-- TODO Verify this is no longer needed -->
    <!--<filter root="/etc/clientlibs/acs-commons"/>-->

    <filter root="/etc/cloudservices">
        <include pattern="/etc/cloudservices/dtm"/>
        <include pattern="/etc/cloudservices/dtm/jcr:content"/>

        <include pattern="/etc/cloudservices/sharethis"/>
        <include pattern="/etc/cloudservices/sharethis/jcr:content"/>
    
        <include pattern="/etc/cloudservices/typekit"/>
        <include pattern="/etc/cloudservices/typekit/jcr:content"/>
    </filter>

    <filter root="/etc/dam/video/flacmono"/>
    <filter root="/etc/dam/video/mp3hq"/>
    <filter root="/etc/dam/video/ogghq"/>
    <filter root="/etc/designs/acs-commons"/>
    <filter root="/etc/notification/email/acs-commons"/>
</workspaceFilter>
